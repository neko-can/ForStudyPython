# 宿題

オブジェクト指向を身に着けたい～～

## 内容
1. まず、Gitに上がっているファイルをコピーする
   - そっちのアプリのエラー原因がよくわからんからファイルダウンロードではなく、全てのファイル内のコードを全てコピーし、張り付けしてみてほしい～
1. コマンド系の処理のアルゴリズムを考えてくること～
   - これを使って次回コードを描いていくから～
1. 提出形式
   - 文章とか図とかにまとめてもらえると見やすいと思う。
   - もちろん、考えたアルゴリズムを見てコード書けるようになってるのがベスト
   - 次回に見せて～
1. ファイルへの書き込みについて
   - もし実践したいコードがあって、今のファイルを書き換えたい場合はやっちゃってOK！
   - 何かあっても元に戻せるから

## やってほしいこと

1. コマンドのメニュー部分の定義はどこに書いておくべきか考えてほしい～
   - その根拠は何か？
   - そのプログラムで何ができるか一目でわかるようにすべきだと思うんだけど。。。
1. 関数の定義を減らすためにはどうすればよいか
   - 今のプログラムはファイルに対して行うも、リストに行うものデータに行うものに分かれている（Show系, Add系, etc）
   - もしかしたら減らさない方がよいか？
   - 関数の定義を減らさず、コマンド入力の方法を替えることで、ユーザーにとっては統合されているように見せるか
1. モード管理をどのように行うか
   - ファイルを開くメニューのクラスはself.MainClassに代入しなくてよいのか？
1. 作ったプログラムを実行しまくる
   - どういう機能が必要か知るため

## 今あるアルゴリズム

### 概要

* 実行する関数のクラス（self.MainClassの参照先）を変更することで、まるでモードチェンジするように処理を変更するプログラム
* クラスで制御する意義
  - 処理をまとめやすい
  - 継承により同じ処理をまとめることができる。
  - 例) 分析モードと関数モードは「メニューから処理を選択して実行する」という部分の処理が似ている
  - 処理を関数にまとめるのも同じ理由


### ファイルごとの説明

見方

* ファイル名
   - 梱包クラス名
     - 関数名
     - 定義されているもの

* `GoalWork.py`
  - MyAnalysis→実際に実行するクラス
    - `__init__` コンストラクタ
    - `Main` 外部から実行する唯一の関数。
    - 定義されているもの
      - fileモードのメニュー、クラス
      - 分析モードのメニュー、クラス

* `MyCommonModule.py`
  - CommonMainModule
    - `__init__` コンストラクタ
    - 定義されているもの
      - コンストラクタの引数を入れる変数
      - このクラスは今後必要なくなるので、消してよい。
  - CommonModule
    - `__init__` コンストラクタ
    - 定義されているもの
      - IsFloat : strがfloatであるか判定する(bool型)
      - inputInOption : input内容がoption内であるようにする
      - printList : 渡されたものをprint。その際、体裁を整えたい
      - printWithNumber : ちょっと体裁を整えてprint。
      - UpdateWithoutOverride : originaldicにadddicをoverrideさせずに合体させる。dictionaryは参照型のため、originaldicに入れた変数の中身が変わる。
      - CheckKeyDuplication : UpdateWithoutOverrideの補助
  - CommandModule
    - 要らないコード
  - OriginalClass
    - `__init__` コンストラクタ
    - 定義されているもの
      - Main : このクラスを使った変数が外部から実行する唯一の関数
      - ShowCommand : commandで有効となる文字列の種類をprint
      - EndProgram : MyAnalysisの無限ループを終了させる
      - ChangePhase : 他のモードに移行するときに利用する関数

* `MyFileModule.py`
  - FileModule
    - `__init__` コンストラクタ
    - 定義されているもの
      - NGList : ファイル名を決める際に入れてはならない文字列
      - NewName : ファイル名を決める関数
      - AddNPY : NewName補助。ファイル拡張子を付ける
      - CheckFileName : NewName補助。NGList反映
      - IsInNGList : CheckFileName補助。
      - AddFileNameList : fileNameArrayに既存データと重複しないようにfileNameをappendする

  - FileClass
    - `__init__`
    - 定義されているもの
      - self.fileName : ファイル名（デフォルトあり）
      - self.dataDict : ファイルのデータに対応する
      - targetListName1 : 分析モードの対象となるデータリスト名
      - Open : ファイルを開きデータ等を変数に入れる
      - QuestionString : モードのコマンド入力補助に利用。

  - FileNameListClass
    - `__init__`
    - 定義されているもの
      - self.fileName : このクラスに対応するファイル名
      - self.fileNameArray : .npyファイルからデータを引き出すための鍵の役割をする
      - Load : このクラスに対応するファイルのロード。
      - Save : 鍵データをセーブ

  - MenuModule
    - `__init__`
    - 定義されているもの
      - ファイル操作モードのメニューで使う関数を定義している
      - self.OpenMode : ファイルを開くためのクラス
      - Save : データの保存
      - AddData : データの追加
      - ShowData : 選択されているデータリストをprint
      - RenameFile : ファイル名を変更する。

  - FileMode
    - `__init__`
    - 定義されているもの
      - OriginalClassを継承している（OriginalClassのメンバーを使える）

  - OpenMode
    - `__init__`
    - 定義されているもの
      - Cancel : このクラスのMainの無限ループを抜ける

* `MyAnalysisModule.py`
  - ここに分析系の関数を記述していく
  - numpy.ndarrayを渡すことで実行できるようにする。

もしもここに記述がない変数や関数等の定義がファイル内にあった場合、それはあまり重要でない、もしくは無駄なコードだと思われる。

## コードのデバッグの心得

始めて１年の私が言うのもなんだけど、経験則を述べる。

1. 正解が明確化していないため、必ずコードには無駄ができる
   - 予め、ノート等に実装方法等をまとめておくことである程度無駄を省ける
1. エラー（想定した動作にならない）に遭遇したら
   - まず、遭遇しないということがあり得ない。
   - コードに慣れればある程度は防げるが、それでも必ず出ると思ってよい。
   - 何処に何の原因で起こったのか知るためにエラーメッセージをよく理解する
   - エラーメッセージから原因を特定できないこともあるので頑張るしかない。   
   - 処理をエラーで止まった前で止めていって値のトレース（どう値が変化したのかを調べる）するとやりやすいかも。
1. アルゴリズムを考えるにあたって
   - 正直、Pythonで何が実装できるのかが分からないと思いつくものも少ないと思う。
   - そこで、実験をしていくことでコードの細かい仕様を理解していくといいかも。
   - 実験したいけど、方法が分からない場合はネット等で調べる！

## 応用（というか俺ができないこと）
* このファイル形式ではどのクラスにも同様の外部からのアクセス権が与えられている
  - どれが実際に実行するのか内部のコードを読まないと分からないようになっている
  - エラーを出させてMyAnalysis.Mainからしか実行できないようにするべき
  - 今回はファイル操作をするので、間違った操作の被害は大きなものになる！？
  - 関連
    - エラーメッセージの導入
* ファイルの削除が行えない。

## その他

* 次回の実施日
  - 5/23(Wed)
  - レポートがあった気がする

* 分からないことがあったら細かくても聞いて～
  - 特に「この部分はPythonだと同実装するのか」系